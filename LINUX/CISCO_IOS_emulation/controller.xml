<ObjectDefinition>
  <information>
    <icon>none</icon>
    <description></description>
    <displayField>object_id</displayField>
    <serviceTaskType/>
    <order>0</order>
    <visibility>5</visibility>
    <configType>cli</configType>
    <createTemplateId/>
    <createTemplateObject/>
    <defaultDisplay>false</defaultDisplay>
    <dynamic>false</dynamic>
    <importIfMandatoryPresent>false</importIfMandatoryPresent>
    <maxInstances>0</maxInstances>
    <relatedObjects/>
    <name>controller</name>
    <group>EMULATION|CISCO|IOS</group>
    <importonce>false</importonce>
    <importrank>0</importrank>
    <reorderinstances>false</reorderinstances>
    <sortascending>false</sortascending>
    <sortauto>false</sortauto>
    <sortnumerical>false</sortnumerical>
    <sortvariable>params._order</sortvariable>
  </information>
  <variables frozen="0">
    <variable displayName="object_id" name="params.object_id" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
    </variable>
    <variable displayName="migrate" name="params.migrate" startIncrement="0" type="Boolean" mandatoryArray="false" visible="false" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="false" arrayCanRemove="false" arrayCanMove="false" arrayCanEdit="false" displayNameHeader="" fullDisplayName="" default="false" isMandatory="false" isUserLocked="true" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
    </variable>
    <variable displayName="interface" name="params.interface" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
    </variable>
    <variable displayName="channel_group" name="params.channel_group" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
    </variable>
    <variable displayName="bandwidth" name="params.bandwidth" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="16" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
    </variable>
    <variable displayName="timeslots" name="params.timeslots" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
    </variable>
    <variable displayName="bandwidth" name="params.modes.0.timeslots_array.0.bandwidth" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="18" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="sub_interface" name="params.modes.0.timeslots_array.0.sub_interface" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="17" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="timeslots" name="params.modes.0.timeslots_array.0.timeslots" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="tug" name="params.modes.0.timeslots_array.0.tug" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="tug_num" name="params.modes.0.timeslots_array.0.tug_num" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="e" name="params.modes.0.timeslots_array.0.e" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="e_num" name="params.modes.0.timeslots_array.0.e_num" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="channel_group" name="params.modes.0.timeslots_array.0.channel_group" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes/timeslots</sections>
      </sections>
    </variable>
    <variable displayName="mode" name="params.modes.0.mode" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes</sections>
      </sections>
    </variable>
    <variable displayName="au" name="params.modes.0.au" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes</sections>
      </sections>
    </variable>
    <variable displayName="au_num" name="params.modes.0.au_num" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes</sections>
      </sections>
    </variable>
    <variable displayName="tug" name="params.modes.0.tug" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes</sections>
      </sections>
    </variable>
    <variable displayName="tug_num" name="params.modes.0.tug_num" startIncrement="0" type="String" mandatoryArray="false" visible="true" description="" groupSeparator="" groupDisplayName="" displayOrder="0" increment="0" refServiceURI="" keepOnImport="false" editable="false" onlyDetailView="false" localVarNameMatch="" remoteVarNameMatch="" arrayCanAdd="true" arrayCanRemove="true" arrayCanMove="true" arrayCanEdit="true" displayNameHeader="" fullDisplayName="" isMandatory="false" isUserLocked="false" isGrouped="false" isSearchable="false" isUniqueGlobal="false">
      <repositories/>
      <sections>
        <sections>modes</sections>
      </sections>
    </variable>
  </variables>
  <example/>
  <command name="IMPORT">
    <operation><![CDATA[cat /config/cisco_ios/test.conf]]></operation>
    <post_template>{* based on the timeslot, calculate the bandwidth *}

{* for E1 controllers, directly access to the timeslot  *}
{if isset($params.timeslots) &amp;&amp; $params.timeslots}
	{* 64kbps for 1 timeslot *}
	{$bd=64}
	{if $params.timeslots == &quot;1-8&quot;}
		{$bd=$bd*8}
	{else if $params.timeslots == &quot;1-16&quot;}
		{$bd=$bd*16}
	{else if $params.timeslots == &quot;1-31&quot;}
		{$bd=$bd*31}
	{/if}
	{* allocate the bandwidth value to the variable $params.bandwidth *}
	{assign_object_variable
		var=&quot;bandwidth&quot;
		value=&quot;{$bd}&quot;}
{/if}
{* for SONET controllers loop though the modes to access the timeslots*}
{if isset($params.modes)}
	{foreach $params.modes as $modes}
		{foreach $modes.timeslots_array as $timeslots}
				{* based on the mode and timeslot au, tug, e and channel group 
				   a sub-interface ID will be assigned to the timeslot 
				   This will be used in the interface microservice to find the matching timeslot 
				   and allocate the bandwidth *}
				{assign_object_variable
				var=&quot;modes.{$modes@index}.timeslots_array.{$timeslots@index}.sub_interface&quot;
				value=&quot;{$modes.au_num}/{$modes.tug_num}/{$timeslots.tug_num}/{$timeslots.e_num}:{$timeslots.channel_group}&quot;}
	
			{if isset($timeslots.timeslots) &amp;&amp; $timeslots.timeslots}
				{* 64kbps for 1 timeslot *}
				{$bd=64}
				{if $timeslots.timeslots == &quot;1-8&quot;}
					{$bd=$bd*8}
				{else if $timeslots.timeslots == &quot;1-16&quot;}
					{$bd=$bd*16}
				{else if $timeslots.timeslots == &quot;1-31&quot;}
					{$bd=$bd*31}
				{/if}
				{* allocate the bandwidth value to the variable $params.modes.0.timeslots_array.0.bandwidth *}
				{assign_object_variable
					var=&quot;modes.{$modes@index}.timeslots_array.{$timeslots@index}.bandwidth&quot;
					value=&quot;{$bd}&quot;}
			{/if}
		{/foreach}{/foreach}
{/if}</post_template>
    <parser>
      <section>
        <regexp>@^\s*controller\s+(?&lt;object_id&gt;\S+ (?&lt;interface&gt;(\d\/?)+))$@</regexp>
        <xpath></xpath>
      </section>
      <lines>
        <line>
          <array name="modes">
            <lines>
              <line>
                <array name="timeslots_array">
                  <lines/>
                  <lines>
                    <ignore>
                      <regexp>@^\s*!@</regexp>
                    </ignore>
                  </lines>
                  <regexp>@^\s*(?&lt;tug&gt;tug-\d+)\s+(?&lt;tug_num&gt;\d+)\s+(?&lt;e&gt;e\d+)\s+(?&lt;e_num&gt;\d+)\s+channel-group\s+(?&lt;channel_group&gt;\d+)\s+timeslots\s+(?&lt;timeslots&gt;\d+-\d+)$@</regexp>
                </array>
                <regexp/>
                <xpath/>
              </line>
              <line>
                <array/>
                <regexp>@^.*mode\s+(?&lt;mode&gt;\S+-\d+)$@</regexp>
                <xpath/>
              </line>
            </lines>
            <lines/>
            <regexp>@^\s*(?&lt;au&gt;au-\d+)\s+(?&lt;au_num&gt;\d+)\s+(?&lt;tug&gt;tug-\d+)\s+(?&lt;tug_num&gt;\d+)$@</regexp>
          </array>
          <regexp/>
          <xpath/>
        </line>
        <line>
          <array/>
          <regexp>@^\s*channel-group\s+(?&lt;channel_group&gt;\d+)\s+timeslots\s+(?&lt;timeslots&gt;\d+-\d+)$@</regexp>
          <xpath/>
        </line>
        <ignore>
          <regexp>@^\s*ais-shut@</regexp>
        </ignore>
        <ignore>
          <regexp>@^\s*framing@</regexp>
        </ignore>
        <ignore>
          <regexp>@^\s*clock@</regexp>
        </ignore>
        <ignore>
          <regexp>@^\s*aug@</regexp>
        </ignore>
        <ignore>
          <regexp>@^\s*description@</regexp>
        </ignore>
        <ignore>
          <regexp>@^\s*!@</regexp>
        </ignore>
        <ignore>
          <regexp>@^\s*tug@</regexp>
        </ignore>
      </lines>
    </parser>
  </command>
  <command name="CREATE"/>
  <command name="READ"/>
  <command name="UPDATE"/>
  <command name="CONSTRAINT"/>
  <command name="DELETE"/>
  <command name="LIST"/>
</ObjectDefinition>
